<div class="lightning-dashboard-container" >
  <!-- <div class="lightning-search">
    <form action="">
      <div class="search-field">
        <input #search type="text" (keyup.enter)="getVal($any($event).target.value)" placeholder="Node Pub Key, Channel ID, Alias"/>
      </div>
      <div class="search-btn">
        <button type='button' (click)="getVal(search.value)" class="btn btn-block btn-success"> Search </button>
      </div>
    </form>
  </div> -->
  <div class="lightning-master-container" >
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading" >Number of Nodes</h4>
        <h2 class="containter-data">{{ data$.num_nodes }}</h2>
    
    </div>
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading">Number of Channels</h4>
      <h2 class="containter-data">{{ data$.num_channels}} </h2>
    </div>
  </div>
  <div class="lightning-master-container" >
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading" >Network Capacity</h4>
        <h2 class="containter-data">{{ data$.total_network_capacity }} SAT</h2>
    
    </div>
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading">Average Channel Size</h4>
      <h2 class="containter-data">{{ data$.avg_channel_size }} SAT</h2>
    </div>
  </div>
  <div class="lightning-master-container" >
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading" >Channels Opened Graph(Work Under Progress)</h4>
      <img src="https://ak.picdn.net/shutterstock/videos/16504675/thumb/4.jpg" alt="">

    
    </div>
    <div class="lightning-mini-container" >
      <h4 class="mini-contianer-heading">Channels Closed Graph(Work Under Progress)</h4>
      <img src="https://ak.picdn.net/shutterstock/videos/16504675/thumb/4.jpg" alt="">
    </div>
  </div>
  <div class="lightning-master-container" >
    <div class="lightning-update-container" >
      <h4 class="mini-contianer-heading" >Latest Channels</h4>
      <table class='lightning-update-table'>
        <thead>
          <tr>
            <th>Channel Id</th>
            <th>Capacity</th>
            <th>Node 1</th>
            <th>Node 2</th>
          </tr>
        </thead>
        <tbody>
          <div style="display:none">{{latestChannels$[0]}}</div>
          <tr *ngFor="let channel of latestChannels$">
            <td><a [routerLink]="['/channel' | relativeUrl, channel.channel_id]">{{ channel.channel_id | shortenString : 10 }}</a></td>
            <td>{{ channel.capacity }}</td>
            <td><a [routerLink]="['/node' | relativeUrl, channel.node1_pub]">{{ channel.node1_pub | shortenString : 10 }}</a></td>
            <td><a [routerLink]="['/node' | relativeUrl, channel.node2_pub]">{{ channel.node2_pub | shortenString : 10 }}</a></td>
          </tr>
      </tbody>
      </table>

    </div>
    <div class="lightning-update-container" >
      <h4 class="mini-contianer-heading">Latest Nodes</h4>
      <table class='lightning-update-table'>
        <thead>
          <tr>
            <th>Public Key</th>
            <th>Alias</th>
            <th>Color</th>
          </tr>
        </thead>
        <tbody>
          <div style="display:none">{{latestNodes$[0]}}</div>
          <tr *ngFor="let node of latestNodes$">
            <td><a [routerLink]="['/node' | relativeUrl, node.pub_key]">{{ node.pub_key | shortenString : 10 }}</a></td>
            <td>{{ node.alias }}</td>
            <td [ngStyle]="{'color':node.color}"class='latest-node-color'>{{ node.color }}</td>
          </tr>
      </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #loadingSponsors>
  <br>
  <div class="spinner-border text-light"></div>
</ng-template>
